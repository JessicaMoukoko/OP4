<template>
    <lightning-card title="Opportunités Produits" icon-name="standard:opportunity">
            <template if:true={isAdmin}>
                <h2>Vue Administrateur</h2>
                <lightning-datatable data={opportunities}
                                     columns={columnsAdministrateur}
                                     key-field="Id"
                                     hide-checkbox-column="false"
                                     onrowaction={handleRowAction}>
                </lightning-datatable>
                </template>
            <template if:true={isCommercial}>
                <h2>Vue Commercial</h2>
                <lightning-datatable data={opportunities}
                                     columns={columnsCommercial}
                                     key-field="Id"
                                     hide-checkbox-column="false"
                                     onrowaction={handleRowAction}>
                 </lightning-datatable>
           </template>           
        <template if:true={hasNoProducts}>
            <p>
                <br>
                Vous n'avez aucune ligne de produits pour le moment
                <br>1. Veuillez d'abord sélectionner un catalogue (Pricebook)
                <br>2. Puis ajouter des produits à l'opportunité
            </p>
        </template>
        <template if:true={error}>
            <p class="slds-text-color_error">
                Une erreur est survenue lors du chargement des produits.
            </p>
        </template>
        
    
    </lightning-card>
</template>