<template>
    
    <lightning-card title="Opportunités Produits" icon-name="standard:opportunity">
         <template if:true={quantityProblem}>
                <p class="orange-text">
                   Vous avez au moins une ligne avec un problème de quantité , veuillez supprimer cette ligne ou
         réduire sa quantité.<br> 
         Si vous avez absolument besoin de plus de produits, veuillez contacter votre Système administrateur.
                </p>
                
            </template>
            <template if:true={isAdmin}>
                
                <lightning-datatable data={opportunities}
                                     columns={columnsAdministrateur}
                                     key-field="Id"
                                     hide-checkbox-column="false"
                                     onrowaction={handleRowAction}>
                </lightning-datatable>
                </template>
            <template if:true={isCommercial}>
               
                <lightning-datatable data={opportunities}
                                     columns={columnsCommercial}
                                     key-field="Id"
                                     hide-checkbox-column="false"
                                     onrowaction={handleRowAction}>
                 </lightning-datatable>
           </template>           
        <template if:true={hasNoProducts}>
            <p>
                <br>
                Vous n'avez aucune ligne de produits pour le moment
                <br>1. Veuillez d'abord sélectionner un catalogue (Pricebook)
                <br>2. Puis ajouter des produits à l'opportunité
            </p>
        </template>
        <template if:true={error}>
            <p class="slds-text-color_error">
                Une erreur est survenue lors du chargement des produits.
            </p>
        </template>
        
           
       
    </lightning-card>
</template>